window.jQuery(function(u){var n=window.wp;u(".code-editor").each(function(){var e=u(this),t="code-editor-",a=e.data(t+"for"),i=e.data(t+"lang"),o=e.data(t+"theme"),n=(e.data(t+"font-size"),e.data(t+"tab-size")),d=!!e.data(t+"soft-tab"),s=!!e.data(t+"read-only"),l=!!e.data(t+"show-print-margin"),r=null,c=document.getElementById(a);c.style.display="none",(r=window.ace.edit(this)).setReadOnly(s),r.session.setMode("ace/mode/"+i),r.setTheme("ace/theme/"+o),r.getSession().setTabSize(n),r.getSession().setUseSoftTabs(d),r.setShowPrintMargin(l),r.getSession().setUseWrapMode(!0),r.$blockScrolling=1/0,r.getSession().on("change",function(e){c.value=r.getValue()}),r.setValue(c.value),r.gotoLine(0),u(document.body).trigger("better-wp-admin-api-code-editor-loaded",[r])});var e=u(".field-color");0<e.length&&e.hide().wpColorPicker().show();var d=!1;u(".image_data_field").each(function(){var t=u(this),e=t.parent(),a=e.find(".image_delete_button"),i=e.find(".image_upload_button"),o=e.find(".image_preview");""===t.val()&&(o.hide(),a.hide()),i.on("click",function(){d||(d=n.media.frames.file_frame=n.media({title:u(this).data("uploader_title"),button:{text:u(this).data("uploader_button_text")},multiple:!1})).on("select",function(){var e=d.state().get("selection").first().toJSON();t.val(e.id),o.show(),a.show(),o.attr("src",e.sizes.thumbnail.url),d=!1}),d.open()}),a.on("click",function(){return t.val(""),o.attr("src","").hide(),a.hide(),!1})})});
